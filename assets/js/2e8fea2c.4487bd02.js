"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[6185],{8453(n,e,i){i.d(e,{R:()=>a,x:()=>r});var t=i(6540);const s={},o=t.createContext(s);function a(n){const e=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:a(n.components),t.createElement(o.Provider,{value:e},n.children)}},9576(n,e,i){i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"module-2-digital-twin/chapter-3-unity-visualization/unity-ros-integration","title":"Unity-ROS Integration Examples","description":"Introduction to Unity-ROS Integration","source":"@site/docs/module-2-digital-twin/chapter-3-unity-visualization/unity-ros-integration.md","sourceDirName":"module-2-digital-twin/chapter-3-unity-visualization","slug":"/module-2-digital-twin/chapter-3-unity-visualization/unity-ros-integration","permalink":"/Book-Physical-AI-Humanoid-Robotics/docs/module-2-digital-twin/chapter-3-unity-visualization/unity-ros-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/Muhammad-Bilal-Hussain/Book-Physical-AI-Humanoid-Robotics/docs/module-2-digital-twin/chapter-3-unity-visualization/unity-ros-integration.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Unity\'s Role in Robotics Simulation","permalink":"/Book-Physical-AI-Humanoid-Robotics/docs/module-2-digital-twin/chapter-3-unity-visualization/unity-role"},"next":{"title":"Content Validation: Flesch-Kincaid Grade Level Assessment","permalink":"/Book-Physical-AI-Humanoid-Robotics/docs/module-2-digital-twin/chapter-3-unity-visualization/validation-report"}}');var s=i(4848),o=i(8453);const a={},r="Unity-ROS Integration Examples",l={},c=[{value:"Introduction to Unity-ROS Integration",id:"introduction-to-unity-ros-integration",level:2},{value:"Unity Robotics Package Overview",id:"unity-robotics-package-overview",level:2},{value:"Core Components",id:"core-components",level:3},{value:"ROS-TCP-Connector",id:"ros-tcp-connector",level:4},{value:"URDF Importer",id:"urdf-importer",level:4},{value:"Installation and Setup",id:"installation-and-setup",level:3},{value:"Prerequisites",id:"prerequisites",level:4},{value:"Installation Process",id:"installation-process",level:4},{value:"Basic Integration Examples",id:"basic-integration-examples",level:2},{value:"Simple Publisher Example",id:"simple-publisher-example",level:3},{value:"Simple Subscriber Example",id:"simple-subscriber-example",level:3},{value:"Robot Control Integration",id:"robot-control-integration",level:2},{value:"Joint State Publisher",id:"joint-state-publisher",level:3},{value:"Robot State Subscriber",id:"robot-state-subscriber",level:3},{value:"Sensor Simulation Integration",id:"sensor-simulation-integration",level:2},{value:"Camera Data Publisher",id:"camera-data-publisher",level:3},{value:"LiDAR Simulation",id:"lidar-simulation",level:3},{value:"Advanced Integration Patterns",id:"advanced-integration-patterns",level:2},{value:"Service Client Example",id:"service-client-example",level:3},{value:"Action Client Example",id:"action-client-example",level:3},{value:"Integration Best Practices",id:"integration-best-practices",level:2},{value:"Performance Optimization",id:"performance-optimization",level:3},{value:"Network Communication",id:"network-communication",level:4},{value:"Unity-Specific Optimizations",id:"unity-specific-optimizations",level:4},{value:"Error Handling",id:"error-handling",level:3},{value:"Network Issues",id:"network-issues",level:4},{value:"Message Validation",id:"message-validation",level:4},{value:"Real-World Integration Examples",id:"real-world-integration-examples",level:2},{value:"Teleoperation Interface",id:"teleoperation-interface",level:3},{value:"Multi-Robot Coordination",id:"multi-robot-coordination",level:3},{value:"Troubleshooting Common Issues",id:"troubleshooting-common-issues",level:2},{value:"Connection Problems",id:"connection-problems",level:3},{value:"Performance Issues",id:"performance-issues",level:3},{value:"Synchronization Problems",id:"synchronization-problems",level:3}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"unity-ros-integration-examples",children:"Unity-ROS Integration Examples"})}),"\n",(0,s.jsx)(e.h2,{id:"introduction-to-unity-ros-integration",children:"Introduction to Unity-ROS Integration"}),"\n",(0,s.jsx)(e.p,{children:"Unity-ROS integration enables communication between Unity's visualization environment and ROS (Robot Operating System) systems. This integration allows Unity to serve as a high-fidelity visualization layer while ROS handles the robotics-specific processing, including physics simulation, sensor data processing, and robot control. This chapter provides practical examples of how to implement and use Unity-ROS integration in robotics applications."}),"\n",(0,s.jsx)(e.h2,{id:"unity-robotics-package-overview",children:"Unity Robotics Package Overview"}),"\n",(0,s.jsx)(e.h3,{id:"core-components",children:"Core Components"}),"\n",(0,s.jsx)(e.p,{children:"The Unity Robotics Package provides essential tools for ROS integration:"}),"\n",(0,s.jsx)(e.h4,{id:"ros-tcp-connector",children:"ROS-TCP-Connector"}),"\n",(0,s.jsx)(e.p,{children:"The primary communication bridge between Unity and ROS:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"TCP/IP Communication"}),": Establishes network connections with ROS master"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Message Serialization"}),": Converts between ROS messages and Unity data structures"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Topic Management"}),": Handles publishing and subscribing to ROS topics"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Service Calls"}),": Enables calling ROS services from Unity"]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"urdf-importer",children:"URDF Importer"}),"\n",(0,s.jsx)(e.p,{children:"Facilitates importing robot models from ROS URDF files:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Model Conversion"}),": Translates URDF to Unity GameObjects"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Joint Mapping"}),": Maps ROS joints to Unity components"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Collision Geometry"}),": Imports collision properties"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Visual Geometry"}),": Imports visual representations"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"installation-and-setup",children:"Installation and Setup"}),"\n",(0,s.jsx)(e.h4,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Unity 2020.3 LTS or later"}),"\n",(0,s.jsx)(e.li,{children:"ROS Melodic/Noetic (for ROS1) or ROS2 Foxy/Dashing (for ROS2)"}),"\n",(0,s.jsx)(e.li,{children:"Compatible operating system (currently Linux/Windows for ROS1, Linux/Windows/macOS for ROS2)"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"installation-process",children:"Installation Process"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Install Unity Robotics Package via Unity Package Manager"}),"\n",(0,s.jsx)(e.li,{children:"Import ROS-TCP-Connector"}),"\n",(0,s.jsx)(e.li,{children:"Set up URDF Importer if needed"}),"\n",(0,s.jsx)(e.li,{children:"Configure network settings for communication"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"basic-integration-examples",children:"Basic Integration Examples"}),"\n",(0,s.jsx)(e.h3,{id:"simple-publisher-example",children:"Simple Publisher Example"}),"\n",(0,s.jsx)(e.p,{children:"A basic example of publishing data from Unity to ROS:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing Unity.Robotics.ROSTCPConnector.MessageTypes.Std_msgs;\n\npublic class SimplePublisher : MonoBehaviour\n{\n    ROSConnection ros;\n    \n    // Topic name to publish to\n    public string topicName = "unity_message";\n    \n    void Start()\n    {\n        // Get the ROS connection static instance\n        ros = ROSConnection.GetOrCreateInstance();\n    }\n    \n    void Update()\n    {\n        // Publish a string message every second\n        if (Time.time % 1.0f < Time.deltaTime)\n        {\n            // Create a message to send\n            StringMsg message = new StringMsg("Hello from Unity! Time: " + Time.time);\n            \n            // Publish the message\n            ros.Publish(topicName, message);\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"simple-subscriber-example",children:"Simple Subscriber Example"}),"\n",(0,s.jsx)(e.p,{children:"A basic example of subscribing to ROS topics in Unity:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing Unity.Robotics.ROSTCPConnector.MessageTypes.Std_msgs;\n\npublic class SimpleSubscriber : MonoBehaviour\n{\n    ROSConnection ros;\n    \n    // Topic name to subscribe to\n    public string topicName = "chatter";\n    \n    void Start()\n    {\n        // Get the ROS connection static instance\n        ros = ROSConnection.GetOrCreateInstance();\n        \n        // Subscribe to the topic\n        ros.Subscribe<StringMsg>(topicName, OnMessageReceived);\n    }\n    \n    void OnMessageReceived(StringMsg message)\n    {\n        Debug.Log("Received message: " + message.data);\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"robot-control-integration",children:"Robot Control Integration"}),"\n",(0,s.jsx)(e.h3,{id:"joint-state-publisher",children:"Joint State Publisher"}),"\n",(0,s.jsx)(e.p,{children:"Example of publishing joint states from Unity:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing Unity.Robotics.ROSTCPConnector.MessageTypes.Sensor_msgs;\nusing System.Collections.Generic;\n\npublic class JointStatePublisher : MonoBehaviour\n{\n    ROSConnection ros;\n    public string topicName = "joint_states";\n    public List<Transform> jointTransforms;\n    public List<string> jointNames;\n    \n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n    }\n    \n    void Update()\n    {\n        // Publish joint states at 30 Hz\n        if (Time.time % 0.033f < Time.deltaTime)\n        {\n            // Create joint state message\n            JointStateMsg jointState = new JointStateMsg();\n            jointState.name = jointNames.ToArray();\n            jointState.position = new double[jointTransforms.Count];\n            \n            // Get joint positions from Unity transforms\n            for (int i = 0; i < jointTransforms.Count; i++)\n            {\n                // Convert Unity rotation to ROS joint position\n                jointState.position[i] = jointTransforms[i].localEulerAngles.y * Mathf.Deg2Rad;\n            }\n            \n            jointState.header.stamp = new TimeStamp(Time.time);\n            jointState.header.frame_id = "base_link";\n            \n            ros.Publish(topicName, jointState);\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"robot-state-subscriber",children:"Robot State Subscriber"}),"\n",(0,s.jsx)(e.p,{children:"Example of updating Unity robot model based on ROS messages:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing Unity.Robotics.ROSTCPConnector.MessageTypes.Sensor_msgs;\nusing System.Collections.Generic;\n\npublic class RobotStateSubscriber : MonoBehaviour\n{\n    ROSConnection ros;\n    public string topicName = "joint_states";\n    \n    public List<Transform> jointTransforms;\n    public List<string> jointNames;\n    \n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n        ros.Subscribe<JointStateMsg>(topicName, OnJointStateReceived);\n    }\n    \n    void OnJointStateReceived(JointStateMsg jointState)\n    {\n        // Update each joint based on received state\n        for (int i = 0; i < jointNames.Count; i++)\n        {\n            int jointIndex = System.Array.IndexOf(jointState.name, jointNames[i]);\n            if (jointIndex >= 0)\n            {\n                float angle = (float)jointState.position[jointIndex];\n                jointTransforms[i].localEulerAngles = new Vector3(0, angle * Mathf.Rad2Deg, 0);\n            }\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"sensor-simulation-integration",children:"Sensor Simulation Integration"}),"\n",(0,s.jsx)(e.h3,{id:"camera-data-publisher",children:"Camera Data Publisher"}),"\n",(0,s.jsx)(e.p,{children:"Example of publishing camera data from Unity:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing Unity.Robotics.ROSTCPConnector.MessageTypes.Sensor_msgs;\nusing Unity.Robotics.ROSTCPConnector.MessageTypes.Std_msgs;\nusing System.Collections;\n\npublic class CameraPublisher : MonoBehaviour\n{\n    ROSConnection ros;\n    public string topicName = "camera/image_raw";\n    public Camera unityCamera;\n    \n    RenderTexture renderTexture;\n    Texture2D texture2D;\n    \n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n        \n        // Set up camera rendering\n        int width = 640;\n        int height = 480;\n        \n        renderTexture = new RenderTexture(width, height, 24);\n        unityCamera.targetTexture = renderTexture;\n        \n        texture2D = new Texture2D(width, height, TextureFormat.RGB24, false);\n    }\n    \n    void Update()\n    {\n        // Publish camera data at 30 Hz\n        if (Time.time % 0.033f < Time.deltaTime)\n        {\n            // Read pixels from render texture\n            RenderTexture.active = renderTexture;\n            texture2D.ReadPixels(new Rect(0, 0, texture2D.width, texture2D.height), 0, 0);\n            texture2D.Apply();\n            \n            // Convert to ROS image message\n            ImageMsg imageMsg = new ImageMsg();\n            imageMsg.header = new HeaderMsg();\n            imageMsg.header.stamp = new TimeStamp(Time.time);\n            imageMsg.header.frame_id = "camera_frame";\n            \n            imageMsg.height = (uint)texture2D.height;\n            imageMsg.width = (uint)texture2D.width;\n            imageMsg.encoding = "rgb8";\n            imageMsg.is_bigendian = 0;\n            imageMsg.step = (uint)(imageMsg.width * 3); // 3 bytes per pixel for RGB\n            \n            // Convert texture to byte array\n            byte[] imageData = texture2D.GetRawTextureData<byte>();\n            imageMsg.data = imageData;\n            \n            ros.Publish(topicName, imageMsg);\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"lidar-simulation",children:"LiDAR Simulation"}),"\n",(0,s.jsx)(e.p,{children:"Example of simulating LiDAR data in Unity:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing Unity.Robotics.ROSTCPConnector.MessageTypes.Sensor_msgs;\nusing System.Collections.Generic;\n\npublic class LidarSimulation : MonoBehaviour\n{\n    ROSConnection ros;\n    public string topicName = "scan";\n    \n    public Transform lidarOrigin;\n    public int numberOfRays = 360;\n    public float maxRange = 10.0f;\n    public float angleMin = -Mathf.PI;\n    public float angleMax = Mathf.PI;\n    \n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n    }\n    \n    void Update()\n    {\n        // Publish LiDAR data at 10 Hz\n        if (Time.time % 0.1f < Time.deltaTime)\n        {\n            // Simulate LiDAR rays\n            List<float> ranges = new List<float>();\n            \n            for (int i = 0; i < numberOfRays; i++)\n            {\n                float angle = angleMin + (angleMax - angleMin) * i / (numberOfRays - 1);\n                Vector3 direction = new Vector3(Mathf.Cos(angle), 0, Mathf.Sin(angle));\n                \n                RaycastHit hit;\n                if (Physics.Raycast(lidarOrigin.position, \n                                   lidarOrigin.TransformDirection(direction), \n                                   out hit, maxRange))\n                {\n                    ranges.Add(hit.distance);\n                }\n                else\n                {\n                    ranges.Add(maxRange);\n                }\n            }\n            \n            // Create ROS LaserScan message\n            LaserScanMsg scanMsg = new LaserScanMsg();\n            scanMsg.header = new HeaderMsg();\n            scanMsg.header.stamp = new TimeStamp(Time.time);\n            scanMsg.header.frame_id = "laser_frame";\n            \n            scanMsg.angle_min = angleMin;\n            scanMsg.angle_max = angleMax;\n            scanMsg.angle_increment = (angleMax - angleMin) / (numberOfRays - 1);\n            scanMsg.time_increment = 0.0f; // Not applicable for simulated data\n            scanMsg.scan_time = 0.1f; // 10 Hz\n            scanMsg.range_min = 0.1f;\n            scanMsg.range_max = maxRange;\n            \n            scanMsg.ranges = ranges.ToArray();\n            scanMsg.intensities = new float[ranges.Count]; // Optional intensity data\n            \n            ros.Publish(topicName, scanMsg);\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"advanced-integration-patterns",children:"Advanced Integration Patterns"}),"\n",(0,s.jsx)(e.h3,{id:"service-client-example",children:"Service Client Example"}),"\n",(0,s.jsx)(e.p,{children:"Example of calling ROS services from Unity:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing Unity.Robotics.ROSTCPConnector.MessageTypes.Std_srvs;\nusing System;\n\npublic class ServiceClientExample : MonoBehaviour\n{\n    ROSConnection ros;\n    \n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n    }\n    \n    public void CallSetBoolService(string serviceName, bool data)\n    {\n        // Create request\n        SetBoolRequest request = new SetBoolRequest();\n        request.data = data ? 1 : 0;\n        \n        // Call service\n        ros.CallService<SetBoolResponse>(serviceName, request, OnServiceResponse);\n    }\n    \n    void OnServiceResponse(SetBoolResponse response)\n    {\n        Debug.Log("Service response: " + response.success + ", message: " + response.message);\n    }\n    \n    void OnGUI()\n    {\n        if (GUI.Button(new Rect(10, 10, 150, 30), "Call Service True"))\n        {\n            CallSetBoolService("/set_bool_service", true);\n        }\n        \n        if (GUI.Button(new Rect(10, 50, 150, 30), "Call Service False"))\n        {\n            CallSetBoolService("/set_bool_service", false);\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"action-client-example",children:"Action Client Example"}),"\n",(0,s.jsx)(e.p,{children:"Example of using ROS actions from Unity:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing Unity.Robotics.ROSTCPConnector.ROSGeometry;\nusing Unity.Robotics.UrdfImporter;\nusing System;\n\npublic class ActionClientExample : MonoBehaviour\n{\n    ROSConnection ros;\n    string actionName = "/move_base";\n    \n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n    }\n    \n    public void SendGoal(float x, float y, float theta)\n    {\n        // This is a simplified example - actual action implementation\n        // would require more complex message handling\n        Debug.Log($"Sending navigation goal to ({x}, {y}, {theta})");\n        \n        // In a real implementation, you would:\n        // 1. Create a goal message\n        // 2. Send it to the action server\n        // 3. Handle feedback and result messages\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"integration-best-practices",children:"Integration Best Practices"}),"\n",(0,s.jsx)(e.h3,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,s.jsx)(e.h4,{id:"network-communication",children:"Network Communication"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Message Frequency"}),": Balance update rate with network capacity"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Message Size"}),": Optimize message content to reduce bandwidth"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Connection Management"}),": Handle connection failures gracefully"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Threading"}),": Use appropriate threading for communication"]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"unity-specific-optimizations",children:"Unity-Specific Optimizations"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Update Frequency"}),": Don't update ROS communication every frame"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Object Pooling"}),": Reuse message objects to reduce garbage collection"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Batching"}),": Combine multiple updates when possible"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Caching"}),": Cache frequently used values"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(e.h4,{id:"network-issues",children:"Network Issues"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'public class RobustROSConnection : MonoBehaviour\n{\n    ROSConnection ros;\n    public string rosIPAddress = "127.0.0.1";\n    public int rosPort = 10000;\n    \n    void Start()\n    {\n        // Configure ROS connection\n        ros = ROSConnection.GetOrCreateInstance();\n        ros.Initialize(rosIPAddress, rosPort);\n        \n        // Handle connection errors\n        ros.OnConnectionFailed += OnConnectionFailed;\n    }\n    \n    void OnConnectionFailed(string errorMessage)\n    {\n        Debug.LogError("ROS connection failed: " + errorMessage);\n        // Implement retry logic or fallback behavior\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h4,{id:"message-validation",children:"Message Validation"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Data Validation"}),": Verify message content before processing"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Bounds Checking"}),": Ensure values are within expected ranges"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Type Safety"}),": Use appropriate message types"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Fallback Behavior"}),": Handle missing or invalid data gracefully"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"real-world-integration-examples",children:"Real-World Integration Examples"}),"\n",(0,s.jsx)(e.h3,{id:"teleoperation-interface",children:"Teleoperation Interface"}),"\n",(0,s.jsx)(e.p,{children:"Example of a Unity-based teleoperation interface:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing Unity.Robotics.ROSTCPConnector.MessageTypes.Geometry_msgs;\n\npublic class TeleoperationInterface : MonoBehaviour\n{\n    ROSConnection ros;\n    public string cmdVelTopic = "cmd_vel";\n    \n    public float linearSpeed = 1.0f;\n    public float angularSpeed = 1.0f;\n    \n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n    }\n    \n    void Update()\n    {\n        // Get input from user\n        float linear = Input.GetAxis("Vertical") * linearSpeed;\n        float angular = Input.GetAxis("Horizontal") * angularSpeed;\n        \n        // Create and publish velocity command\n        if (Mathf.Abs(linear) > 0.01f || Mathf.Abs(angular) > 0.01f)\n        {\n            TwistMsg cmdVel = new TwistMsg();\n            cmdVel.linear = new Vector3Msg(linear, 0, 0);\n            cmdVel.angular = new Vector3Msg(0, 0, angular);\n            \n            ros.Publish(cmdVelTopic, cmdVel);\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"multi-robot-coordination",children:"Multi-Robot Coordination"}),"\n",(0,s.jsx)(e.p,{children:"Example of coordinating multiple robots through Unity:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing System.Collections.Generic;\n\npublic class MultiRobotCoordinator : MonoBehaviour\n{\n    ROSConnection ros;\n    public List<string> robotNames;\n    public Dictionary<string, GameObject> robotObjects;\n    \n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n        \n        // Initialize robot objects dictionary\n        foreach (string name in robotNames)\n        {\n            // Find robot object by name\n            GameObject robot = GameObject.Find(name);\n            if (robot != null)\n            {\n                robotObjects[name] = robot;\n            }\n        }\n        \n        // Subscribe to robot status topics\n        foreach (string name in robotNames)\n        {\n            ros.Subscribe<Unity.Robotics.ROSTCPConnector.MessageTypes.Std_msgs.StringMsg>(\n                name + "/status", \n                (msg) => OnRobotStatusReceived(name, msg)\n            );\n        }\n    }\n    \n    void OnRobotStatusReceived(string robotName, \n        Unity.Robotics.ROSTCPConnector.MessageTypes.Std_msgs.StringMsg status)\n    {\n        Debug.Log($"Robot {robotName} status: {status.data}");\n        \n        // Update Unity representation based on status\n        if (robotObjects.ContainsKey(robotName))\n        {\n            // Update robot visualization based on status\n            UpdateRobotVisualization(robotName, status.data);\n        }\n    }\n    \n    void UpdateRobotVisualization(string robotName, string status)\n    {\n        // Update robot appearance based on status\n        GameObject robot = robotObjects[robotName];\n        if (robot != null)\n        {\n            // Example: Change color based on status\n            Renderer renderer = robot.GetComponent<Renderer>();\n            if (renderer != null)\n            {\n                if (status == "active")\n                    renderer.material.color = Color.green;\n                else if (status == "idle")\n                    renderer.material.color = Color.yellow;\n                else\n                    renderer.material.color = Color.red;\n            }\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"troubleshooting-common-issues",children:"Troubleshooting Common Issues"}),"\n",(0,s.jsx)(e.h3,{id:"connection-problems",children:"Connection Problems"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Network Configuration"}),": Verify IP addresses and ports"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Firewall Settings"}),": Ensure ports are open for communication"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"ROS Master"}),": Confirm ROS master is running and accessible"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Protocol Compatibility"}),": Ensure ROS1/ROS2 compatibility"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"performance-issues",children:"Performance Issues"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Message Frequency"}),": Reduce update rates if experiencing lag"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Message Size"}),": Optimize large message content"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Unity Performance"}),": Profile and optimize Unity application"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Network Bandwidth"}),": Monitor and optimize network usage"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"synchronization-problems",children:"Synchronization Problems"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Time Synchronization"}),": Ensure consistent time handling"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"State Consistency"}),": Implement proper state management"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Update Order"}),": Manage update order between systems"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Latency Compensation"}),": Account for communication delays"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Unity-ROS integration provides a powerful platform for combining Unity's visualization capabilities with ROS's robotics functionality. By following these examples and best practices, developers can create sophisticated robotics applications that leverage the strengths of both systems."})]})}function u(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}}}]);