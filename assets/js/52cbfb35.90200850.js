"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[3885],{109(e,i,n){n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"module-1-ros2/chapter-2-primitives","title":"Chapter 2: Communication Primitives in ROS 2","description":"Node Definition and Explanation","source":"@site/docs/module-1-ros2/chapter-2-primitives.md","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/chapter-2-primitives","permalink":"/Book-Physical-AI-Humanoid-Robotics/docs/module-1-ros2/chapter-2-primitives","draft":false,"unlisted":false,"editUrl":"https://github.com/Muhammad-Bilal-Hussain/Book-Physical-AI-Humanoid-Robotics/docs/module-1-ros2/chapter-2-primitives.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 1: ROS 2 as the Nervous System of Physical AI","permalink":"/Book-Physical-AI-Humanoid-Robotics/docs/module-1-ros2/chapter-1-architecture"},"next":{"title":"Chapter 3: Bridging AI Agents with ROS 2 using rclpy","permalink":"/Book-Physical-AI-Humanoid-Robotics/docs/module-1-ros2/chapter-3-ai-integration"}}');var o=n(4848),t=n(8453);const r={},l="Chapter 2: Communication Primitives in ROS 2",c={},a=[{value:"Node Definition and Explanation",id:"node-definition-and-explanation",level:2},{value:"What is a Node?",id:"what-is-a-node",level:3},{value:"Node Characteristics",id:"node-characteristics",level:3},{value:"Independence",id:"independence",level:4},{value:"Single Responsibility",id:"single-responsibility",level:4},{value:"Communication Interface",id:"communication-interface",level:4},{value:"Creating Nodes",id:"creating-nodes",level:3},{value:"Node Lifecycle",id:"node-lifecycle",level:3},{value:"Naming and Namespaces",id:"naming-and-namespaces",level:3},{value:"Node Management",id:"node-management",level:3},{value:"Topic Definition and Explanation",id:"topic-definition-and-explanation",level:2},{value:"What is a Topic?",id:"what-is-a-topic",level:3},{value:"Topic Characteristics",id:"topic-characteristics",level:3},{value:"Asynchronous Communication",id:"asynchronous-communication",level:4},{value:"Named Channels",id:"named-channels",level:4},{value:"Message Types",id:"message-types",level:4},{value:"Many-to-Many Communication",id:"many-to-many-communication",level:4},{value:"Quality of Service (QoS) Settings",id:"quality-of-service-qos-settings",level:3},{value:"Reliability",id:"reliability",level:4},{value:"Durability",id:"durability",level:4},{value:"History",id:"history",level:4},{value:"Rate and Deadline",id:"rate-and-deadline",level:4},{value:"Topic Usage in Humanoid Robots",id:"topic-usage-in-humanoid-robots",level:3},{value:"Sensor Data Distribution",id:"sensor-data-distribution",level:4},{value:"State Information",id:"state-information",level:4},{value:"Control Commands",id:"control-commands",level:4},{value:"Creating and Using Topics",id:"creating-and-using-topics",level:3},{value:"Topic Tools",id:"topic-tools",level:3},{value:"Service Definition and Explanation",id:"service-definition-and-explanation",level:2},{value:"What is a Service?",id:"what-is-a-service",level:3},{value:"Service Characteristics",id:"service-characteristics",level:3},{value:"Synchronous Communication",id:"synchronous-communication",level:4},{value:"Request-Response Pattern",id:"request-response-pattern",level:4},{value:"One-to-One Communication",id:"one-to-one-communication",level:4},{value:"Blocking Operation",id:"blocking-operation",level:4},{value:"Service Structure",id:"service-structure",level:3},{value:"Quality of Service for Services",id:"quality-of-service-for-services",level:3},{value:"Service Usage in Humanoid Robots",id:"service-usage-in-humanoid-robots",level:3},{value:"Configuration Requests",id:"configuration-requests",level:4},{value:"Action Requests",id:"action-requests",level:4},{value:"Query Operations",id:"query-operations",level:4},{value:"Creating and Using Services",id:"creating-and-using-services",level:3},{value:"Service Tools",id:"service-tools",level:3},{value:"Action Definition and Explanation",id:"action-definition-and-explanation",level:2},{value:"What is an Action?",id:"what-is-an-action",level:3},{value:"Action Characteristics",id:"action-characteristics",level:3},{value:"Goal-Feedback-Result Pattern",id:"goal-feedback-result-pattern",level:4},{value:"Long-Running Operations",id:"long-running-operations",level:4},{value:"Cancellation Support",id:"cancellation-support",level:4},{value:"Preemption",id:"preemption",level:4},{value:"Action Structure",id:"action-structure",level:3},{value:"Action States",id:"action-states",level:3},{value:"Action Usage in Humanoid Robots",id:"action-usage-in-humanoid-robots",level:3},{value:"Navigation Tasks",id:"navigation-tasks",level:4},{value:"Manipulation Tasks",id:"manipulation-tasks",level:4},{value:"Calibration and Maintenance",id:"calibration-and-maintenance",level:4},{value:"Creating and Using Actions",id:"creating-and-using-actions",level:3},{value:"Action Tools",id:"action-tools",level:3},{value:"When to Use Actions vs. Services vs. Topics",id:"when-to-use-actions-vs-services-vs-topics",level:3},{value:"Practical Examples with Humanoid Robots",id:"practical-examples-with-humanoid-robots",level:2},{value:"Communication Patterns in Real Humanoid Systems",id:"communication-patterns-in-real-humanoid-systems",level:3},{value:"Example 1: Walking Pattern Generation",id:"example-1-walking-pattern-generation",level:3},{value:"Topic Communication",id:"topic-communication",level:4},{value:"Service Communication",id:"service-communication",level:4},{value:"Action Communication",id:"action-communication",level:4},{value:"Example 2: Object Manipulation",id:"example-2-object-manipulation",level:3},{value:"Topic Communication",id:"topic-communication-1",level:4},{value:"Service Communication",id:"service-communication-1",level:4},{value:"Action Communication",id:"action-communication-1",level:4},{value:"Example 3: Human-Robot Interaction",id:"example-3-human-robot-interaction",level:3},{value:"Topic Communication",id:"topic-communication-2",level:4},{value:"Service Communication",id:"service-communication-2",level:4},{value:"Action Communication",id:"action-communication-2",level:4},{value:"Communication Pattern Selection Guidelines",id:"communication-pattern-selection-guidelines",level:3},{value:"Use Topics When:",id:"use-topics-when",level:4},{value:"Use Services When:",id:"use-services-when",level:4},{value:"Use Actions When:",id:"use-actions-when",level:4},{value:"Quality of Service Considerations",id:"quality-of-service-considerations",level:3},{value:"Safety-Critical Topics",id:"safety-critical-topics",level:4},{value:"Performance-Critical Topics",id:"performance-critical-topics",level:4},{value:"Configuration Services",id:"configuration-services",level:4},{value:"Interactive Actions",id:"interactive-actions",level:4},{value:"Integration Example: Navigation and Manipulation",id:"integration-example-navigation-and-manipulation",level:3},{value:"Quality of Service (QoS) Concepts",id:"quality-of-service-qos-concepts",level:2},{value:"Introduction to QoS in ROS 2",id:"introduction-to-qos-in-ros-2",level:3},{value:"Core QoS Policies",id:"core-qos-policies",level:3},{value:"Reliability Policy",id:"reliability-policy",level:4},{value:"Durability Policy",id:"durability-policy",level:4},{value:"History Policy",id:"history-policy",level:4},{value:"Depth Policy",id:"depth-policy",level:4},{value:"Advanced QoS Settings",id:"advanced-qos-settings",level:3},{value:"Deadline Policy",id:"deadline-policy",level:4},{value:"Lifespan Policy",id:"lifespan-policy",level:4},{value:"Liveliness Policy",id:"liveliness-policy",level:4},{value:"QoS in Humanoid Robot Applications",id:"qos-in-humanoid-robot-applications",level:3},{value:"Sensor Data",id:"sensor-data",level:4},{value:"Control Commands",id:"control-commands-1",level:4},{value:"Static Information",id:"static-information",level:4},{value:"QoS Matching and Compatibility",id:"qos-matching-and-compatibility",level:3},{value:"Setting QoS in Code",id:"setting-qos-in-code",level:3},{value:"Best Practices for QoS",id:"best-practices-for-qos",level:3},{value:"Comparison of Communication Primitives",id:"comparison-of-communication-primitives",level:2},{value:"Overview of ROS 2 Communication Primitives",id:"overview-of-ros-2-communication-primitives",level:3},{value:"Detailed Comparison Table",id:"detailed-comparison-table",level:3},{value:"When to Use Each Primitive",id:"when-to-use-each-primitive",level:3},{value:"Topics",id:"topics",level:4},{value:"Services",id:"services",level:4},{value:"Actions",id:"actions",level:4},{value:"Communication Pattern Selection Decision Tree",id:"communication-pattern-selection-decision-tree",level:3},{value:"Hybrid Approaches",id:"hybrid-approaches",level:3},{value:"Topic + Service",id:"topic--service",level:4},{value:"Topic + Action",id:"topic--action",level:4},{value:"Service + Action",id:"service--action",level:4},{value:"Humanoid Robot Examples",id:"humanoid-robot-examples",level:3},{value:"Walking Control",id:"walking-control",level:4},{value:"Object Manipulation",id:"object-manipulation",level:4},{value:"Human-Robot Interaction",id:"human-robot-interaction",level:4},{value:"Performance Considerations",id:"performance-considerations",level:3},{value:"References",id:"references",level:2}];function d(e){const i={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.header,{children:(0,o.jsx)(i.h1,{id:"chapter-2-communication-primitives-in-ros-2",children:"Chapter 2: Communication Primitives in ROS 2"})}),"\n",(0,o.jsx)(i.h2,{id:"node-definition-and-explanation",children:"Node Definition and Explanation"}),"\n",(0,o.jsx)(i.h3,{id:"what-is-a-node",children:"What is a Node?"}),"\n",(0,o.jsx)(i.p,{children:"In ROS 2, a node is a fundamental component that performs computation. Nodes are the basic building blocks of a ROS 2 system. Each node typically handles a specific function, such as sensor processing, path planning, or motor control. Nodes are designed to be modular and independent, allowing for flexible and scalable robot systems."}),"\n",(0,o.jsx)(i.p,{children:"Technically, a node is an instance of a ROS 2 process that has access to the ROS 2 communication infrastructure. Each node can:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Publish messages to topics"}),"\n",(0,o.jsx)(i.li,{children:"Subscribe to messages from topics"}),"\n",(0,o.jsx)(i.li,{children:"Provide services"}),"\n",(0,o.jsx)(i.li,{children:"Call services"}),"\n",(0,o.jsx)(i.li,{children:"Send and receive actions"}),"\n",(0,o.jsx)(i.li,{children:"Manage parameters"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"node-characteristics",children:"Node Characteristics"}),"\n",(0,o.jsx)(i.h4,{id:"independence",children:"Independence"}),"\n",(0,o.jsx)(i.p,{children:"Nodes operate independently of each other. This means that if one node fails, it doesn't necessarily bring down the entire system. This independence is crucial for robot safety and reliability."}),"\n",(0,o.jsx)(i.h4,{id:"single-responsibility",children:"Single Responsibility"}),"\n",(0,o.jsx)(i.p,{children:"Each node should have a single, well-defined responsibility. For example:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"A camera driver node handles camera data acquisition"}),"\n",(0,o.jsx)(i.li,{children:"A localization node estimates the robot's position"}),"\n",(0,o.jsx)(i.li,{children:"A motor controller node sends commands to motors"}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"This approach follows the single responsibility principle, making the system easier to understand, test, and maintain."}),"\n",(0,o.jsx)(i.h4,{id:"communication-interface",children:"Communication Interface"}),"\n",(0,o.jsx)(i.p,{children:"Nodes communicate with each other through ROS 2's communication primitives: topics, services, and actions. This allows nodes to be developed separately and then combined to create complex behaviors."}),"\n",(0,o.jsx)(i.h3,{id:"creating-nodes",children:"Creating Nodes"}),"\n",(0,o.jsx)(i.p,{children:"Nodes are created using client libraries like rclpy (Python) or rclcpp (C++). Here's a conceptual example of what happens when creating a node:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsx)(i.li,{children:"Initialize the ROS 2 client library"}),"\n",(0,o.jsx)(i.li,{children:"Create a node with a unique name"}),"\n",(0,o.jsx)(i.li,{children:"Create publishers, subscribers, services, or other communication interfaces"}),"\n",(0,o.jsx)(i.li,{children:"Implement the node's functionality"}),"\n",(0,o.jsx)(i.li,{children:"Spin the node to process callbacks"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"node-lifecycle",children:"Node Lifecycle"}),"\n",(0,o.jsx)(i.p,{children:"ROS 2 provides a lifecycle system for nodes that allows for more sophisticated management of complex systems. The lifecycle states include:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Unconfigured: The node is created but not yet configured"}),"\n",(0,o.jsx)(i.li,{children:"Inactive: The node is configured but not yet activated"}),"\n",(0,o.jsx)(i.li,{children:"Active: The node is running and performing its function"}),"\n",(0,o.jsx)(i.li,{children:"Finalized: The node has been shut down"}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"This lifecycle system is particularly useful for humanoid robots where different subsystems may need to be brought up in a specific order or deactivated for safety reasons."}),"\n",(0,o.jsx)(i.h3,{id:"naming-and-namespaces",children:"Naming and Namespaces"}),"\n",(0,o.jsx)(i.p,{children:"Nodes have unique names within the ROS 2 system. To avoid naming conflicts, ROS 2 supports namespaces, which allow nodes to be organized hierarchically. For example, a humanoid robot might have nodes named:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.code,{children:"/left_arm/controller"})}),"\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.code,{children:"/right_arm/controller"})}),"\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.code,{children:"/torso/sensors"})}),"\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.code,{children:"/head/camera"})}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"This naming convention helps organize complex robot systems and prevents naming conflicts."}),"\n",(0,o.jsx)(i.h3,{id:"node-management",children:"Node Management"}),"\n",(0,o.jsx)(i.p,{children:"ROS 2 provides tools for managing nodes:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"ros2 node list"}),": Shows all active nodes"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"ros2 node info <node_name>"}),": Shows information about a specific node"]}),"\n",(0,o.jsx)(i.li,{children:"Launch files: Allow multiple nodes to be started together with specific configurations"}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"These tools are essential for debugging and monitoring robot systems during development and operation."}),"\n",(0,o.jsx)(i.h2,{id:"topic-definition-and-explanation",children:"Topic Definition and Explanation"}),"\n",(0,o.jsx)(i.h3,{id:"what-is-a-topic",children:"What is a Topic?"}),"\n",(0,o.jsx)(i.p,{children:"A topic in ROS 2 is a named channel through which nodes exchange messages. Topics implement a publish-subscribe communication pattern, where one or more nodes publish messages to a topic, and one or more nodes subscribe to messages from that topic. This creates an asynchronous, decoupled communication system where publishers and subscribers don't need to know about each other."}),"\n",(0,o.jsx)(i.p,{children:"Topics are fundamental to ROS 2's distributed architecture. They allow data to flow between nodes without tight coupling, enabling flexible and scalable robot systems."}),"\n",(0,o.jsx)(i.h3,{id:"topic-characteristics",children:"Topic Characteristics"}),"\n",(0,o.jsx)(i.h4,{id:"asynchronous-communication",children:"Asynchronous Communication"}),"\n",(0,o.jsx)(i.p,{children:"Topics provide asynchronous communication between nodes. Publishers send messages without waiting for responses, and subscribers receive messages as they arrive. This allows for efficient data distribution in real-time systems."}),"\n",(0,o.jsx)(i.h4,{id:"named-channels",children:"Named Channels"}),"\n",(0,o.jsxs)(i.p,{children:["Topics are identified by unique names (e.g., ",(0,o.jsx)(i.code,{children:"/sensor_data"}),", ",(0,o.jsx)(i.code,{children:"/robot_state"}),"). These names follow a hierarchical namespace system, similar to file paths in operating systems."]}),"\n",(0,o.jsx)(i.h4,{id:"message-types",children:"Message Types"}),"\n",(0,o.jsx)(i.p,{children:"Each topic has a specific message type that defines the structure of the data being exchanged. All messages published to a topic must conform to this type. Common message types include:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"std_msgs"}),": Basic data types (integers, floats, strings)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"sensor_msgs"}),": Sensor data (images, laser scans, joint states)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"geometry_msgs"}),": Geometric data (poses, vectors, quaternions)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"nav_msgs"}),": Navigation data (paths, occupancy grids)"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"many-to-many-communication",children:"Many-to-Many Communication"}),"\n",(0,o.jsx)(i.p,{children:"Topics support many-to-many communication patterns. Multiple nodes can publish to the same topic, and multiple nodes can subscribe to the same topic. This enables flexible data distribution patterns."}),"\n",(0,o.jsx)(i.h3,{id:"quality-of-service-qos-settings",children:"Quality of Service (QoS) Settings"}),"\n",(0,o.jsx)(i.p,{children:"Topics in ROS 2 support Quality of Service (QoS) settings that allow fine-tuning of communication behavior:"}),"\n",(0,o.jsx)(i.h4,{id:"reliability",children:"Reliability"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Reliable"}),": All messages are guaranteed to be delivered (may be slower)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Best Effort"}),": Messages may be lost (faster but not guaranteed)"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"For example, sensor data might use best effort for real-time performance, while critical safety messages would use reliable delivery."}),"\n",(0,o.jsx)(i.h4,{id:"durability",children:"Durability"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Transient Local"}),": Late-joining subscribers receive the last message published"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Volatile"}),": New subscribers only receive future messages"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"This is useful for static data like robot configuration that new nodes need to receive immediately."}),"\n",(0,o.jsx)(i.h4,{id:"history",children:"History"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Keep Last"}),": Store only the most recent messages"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Keep All"}),": Store all messages (use with caution due to memory usage)"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"rate-and-deadline",children:"Rate and Deadline"}),"\n",(0,o.jsx)(i.p,{children:"These settings allow for time-based constraints on message delivery, important for real-time robotic systems."}),"\n",(0,o.jsx)(i.h3,{id:"topic-usage-in-humanoid-robots",children:"Topic Usage in Humanoid Robots"}),"\n",(0,o.jsx)(i.p,{children:"Topics are extensively used in humanoid robots for various purposes:"}),"\n",(0,o.jsx)(i.h4,{id:"sensor-data-distribution",children:"Sensor Data Distribution"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/joint_states"}),": Current positions, velocities, and efforts of robot joints"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/imu/data"}),": Inertial measurement unit data for orientation and acceleration"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/camera/color/image_raw"}),": Raw image data from cameras"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/scan"}),": Laser scan data for obstacle detection"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"state-information",children:"State Information"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/robot_state"}),": Overall robot state information"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/tf"}),": Transform data between coordinate frames"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/battery_status"}),": Battery level and health information"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"control-commands",children:"Control Commands"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/cmd_vel"}),": Velocity commands for base movement"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/arm_controller/commands"}),": Commands for arm movements"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/head_controller/commands"}),": Commands for head movements"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"creating-and-using-topics",children:"Creating and Using Topics"}),"\n",(0,o.jsx)(i.p,{children:"To use topics, nodes must:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Create a Publisher"}),": Define a publisher for a specific topic name and message type"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Publish Messages"}),": Send messages to the topic at appropriate intervals"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Create a Subscriber"}),": Define a subscriber for a specific topic name and message type"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Process Messages"}),": Implement callback functions to handle incoming messages"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"topic-tools",children:"Topic Tools"}),"\n",(0,o.jsx)(i.p,{children:"ROS 2 provides several tools for working with topics:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"ros2 topic list"}),": Shows all active topics"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"ros2 topic echo <topic_name>"}),": Displays messages being published to a topic"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"ros2 topic info <topic_name>"}),": Shows information about a topic and its publishers/subscribers"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"ros2 topic pub <topic_name> <msg_type> <args>"}),": Publishes messages to a topic from the command line"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"These tools are invaluable for debugging and understanding the data flow in robot systems."}),"\n",(0,o.jsx)(i.h2,{id:"service-definition-and-explanation",children:"Service Definition and Explanation"}),"\n",(0,o.jsx)(i.h3,{id:"what-is-a-service",children:"What is a Service?"}),"\n",(0,o.jsx)(i.p,{children:"A service in ROS 2 provides a request-response communication pattern between nodes. Unlike topics, which provide asynchronous, one-way communication, services offer synchronous, two-way communication. A node sends a request to a service and waits for a response. This is similar to a function call in traditional programming, but across the network between different nodes."}),"\n",(0,o.jsx)(i.p,{children:"Services are essential for operations that require a response or confirmation, such as configuration changes, specific actions, or queries that return results."}),"\n",(0,o.jsx)(i.h3,{id:"service-characteristics",children:"Service Characteristics"}),"\n",(0,o.jsx)(i.h4,{id:"synchronous-communication",children:"Synchronous Communication"}),"\n",(0,o.jsx)(i.p,{children:"Services provide synchronous communication where the client node sends a request and waits for a response. This ensures that the client receives a response before continuing, which is important for operations that require confirmation or results."}),"\n",(0,o.jsx)(i.h4,{id:"request-response-pattern",children:"Request-Response Pattern"}),"\n",(0,o.jsx)(i.p,{children:"Each service has two message types:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Request"}),": The message sent by the client to the service server"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Response"}),": The message sent by the service server back to the client"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"For example, a service to move a robot joint might have:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Request: Joint name, target position, speed"}),"\n",(0,o.jsx)(i.li,{children:"Response: Success flag, error message if any"}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"one-to-one-communication",children:"One-to-One Communication"}),"\n",(0,o.jsx)(i.p,{children:"Unlike topics which support many-to-many communication, services typically involve one server and one client at a time. However, multiple clients can use the same service sequentially."}),"\n",(0,o.jsx)(i.h4,{id:"blocking-operation",children:"Blocking Operation"}),"\n",(0,o.jsx)(i.p,{children:"When a client calls a service, it typically blocks until it receives a response or a timeout occurs. This ensures that the operation completes before the client continues."}),"\n",(0,o.jsx)(i.h3,{id:"service-structure",children:"Service Structure"}),"\n",(0,o.jsxs)(i.p,{children:["Services are defined using service definition files with the ",(0,o.jsx)(i.code,{children:".srv"})," extension. These files contain two parts separated by a line with three dashes (",(0,o.jsx)(i.code,{children:"---"}),"):"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"# Request part (above the ---)\nfloat64 target_position\nstring joint_name\n---\n# Response part (below the ---)\nbool success\nstring message\n"})}),"\n",(0,o.jsx)(i.h3,{id:"quality-of-service-for-services",children:"Quality of Service for Services"}),"\n",(0,o.jsx)(i.p,{children:"While services don't use the same QoS settings as topics, they do have timeout configurations that determine how long a client will wait for a response before giving up."}),"\n",(0,o.jsx)(i.h3,{id:"service-usage-in-humanoid-robots",children:"Service Usage in Humanoid Robots"}),"\n",(0,o.jsx)(i.p,{children:"Services are commonly used in humanoid robots for operations that require immediate responses:"}),"\n",(0,o.jsx)(i.h4,{id:"configuration-requests",children:"Configuration Requests"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/set_parameters"}),": Change robot configuration parameters"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/load_map"}),": Load a new map for navigation"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/set_mode"}),": Change robot operational mode"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"action-requests",children:"Action Requests"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/move_joint"}),": Move a specific joint to a target position"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/gripper_control"}),": Open or close a gripper"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/reset_odometry"}),": Reset the robot's position estimate"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"query-operations",children:"Query Operations"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/get_robot_pose"}),": Get the current robot position"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/get_battery_status"}),": Get battery level and health"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/get_joint_positions"}),": Get current positions of all joints"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"creating-and-using-services",children:"Creating and Using Services"}),"\n",(0,o.jsx)(i.p,{children:"To use services, nodes must:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Create a Service Server"}),": Define a service with a specific name and message type, and implement a callback function to handle requests"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Create a Service Client"}),": Define a client for a specific service name and message type"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Send Requests"}),": Create request objects and send them to the service"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Process Responses"}),": Handle the responses returned by the service"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"service-tools",children:"Service Tools"}),"\n",(0,o.jsx)(i.p,{children:"ROS 2 provides tools for working with services:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"ros2 service list"}),": Shows all available services"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"ros2 service info <service_name>"}),": Shows information about a specific service"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"ros2 service call <service_name> <service_type> <request_args>"}),": Calls a service from the command line"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"These tools are useful for testing and debugging service-based functionality in robot systems."}),"\n",(0,o.jsx)(i.h2,{id:"action-definition-and-explanation",children:"Action Definition and Explanation"}),"\n",(0,o.jsx)(i.h3,{id:"what-is-an-action",children:"What is an Action?"}),"\n",(0,o.jsx)(i.p,{children:"An action in ROS 2 provides a communication pattern for long-running tasks that require feedback during execution. Actions combine features of both topics and services, offering a goal-oriented communication pattern with continuous feedback and final results. They are ideal for tasks that take a significant amount of time to complete and where the client needs to monitor progress or potentially cancel the operation."}),"\n",(0,o.jsx)(i.p,{children:"Actions are particularly important in robotics for tasks like navigation, manipulation, and calibration that require ongoing communication between the client and server during execution."}),"\n",(0,o.jsx)(i.h3,{id:"action-characteristics",children:"Action Characteristics"}),"\n",(0,o.jsx)(i.h4,{id:"goal-feedback-result-pattern",children:"Goal-Feedback-Result Pattern"}),"\n",(0,o.jsx)(i.p,{children:"Actions follow a three-part communication pattern:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Goal"}),": The client sends a goal to the action server"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Feedback"}),": The server sends periodic feedback updates during execution"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Result"}),": The server sends a final result when the action completes"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"long-running-operations",children:"Long-Running Operations"}),"\n",(0,o.jsx)(i.p,{children:"Actions are designed for operations that take a significant amount of time to complete, such as:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Moving a robot to a distant location"}),"\n",(0,o.jsx)(i.li,{children:"Performing a complex manipulation task"}),"\n",(0,o.jsx)(i.li,{children:"Calibrating sensors or actuators"}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"cancellation-support",children:"Cancellation Support"}),"\n",(0,o.jsx)(i.p,{children:"Unlike services, actions support cancellation. A client can request to cancel an action while it's in progress, allowing for responsive and safe robot behavior."}),"\n",(0,o.jsx)(i.h4,{id:"preemption",children:"Preemption"}),"\n",(0,o.jsx)(i.p,{children:"Actions support preemption, where a new goal can replace a currently executing goal, which is useful for dynamic environments."}),"\n",(0,o.jsx)(i.h3,{id:"action-structure",children:"Action Structure"}),"\n",(0,o.jsxs)(i.p,{children:["Actions are defined using action definition files with the ",(0,o.jsx)(i.code,{children:".action"})," extension. These files contain three parts separated by lines with three dashes (",(0,o.jsx)(i.code,{children:"---"}),"):"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"# Goal part (before first ---)\nfloat64 target_x\nfloat64 target_y\nfloat64 target_theta\n---\n# Result part (between ---)\nbool success\nstring message\n---\n# Feedback part (after second ---)\nfloat64 current_x\nfloat64 current_y\nfloat64 current_theta\nint32 percent_complete\n"})}),"\n",(0,o.jsx)(i.h3,{id:"action-states",children:"Action States"}),"\n",(0,o.jsx)(i.p,{children:"Actions can be in various states during their lifecycle:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Pending"}),": Goal received but not yet started"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Active"}),": Goal is currently being processed"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Succeeded"}),": Goal completed successfully"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Aborted"}),": Goal execution failed"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Preempted"}),": Goal was replaced by a new goal"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Canceled"}),": Goal was canceled by the client"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"action-usage-in-humanoid-robots",children:"Action Usage in Humanoid Robots"}),"\n",(0,o.jsx)(i.p,{children:"Actions are extensively used in humanoid robots for complex, long-running operations:"}),"\n",(0,o.jsx)(i.h4,{id:"navigation-tasks",children:"Navigation Tasks"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/navigate_to_pose"}),": Move the robot to a specific location and orientation"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/follow_waypoints"}),": Navigate through a sequence of waypoints"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/explore_area"}),": Explore an unknown environment"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"manipulation-tasks",children:"Manipulation Tasks"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/pick_object"}),": Pick up an object from a specific location"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/place_object"}),": Place an object at a specific location"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/move_arm"}),": Move the robot's arm to a specific configuration"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"calibration-and-maintenance",children:"Calibration and Maintenance"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/calibrate_sensors"}),": Calibrate various sensors"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/check_balance"}),": Perform balance checks and adjustments"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/perform_self_diagnostic"}),": Run diagnostic routines"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"creating-and-using-actions",children:"Creating and Using Actions"}),"\n",(0,o.jsx)(i.p,{children:"To use actions, nodes must:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Create an Action Server"}),": Define an action with a specific name and message type, and implement callback functions to handle goals, cancellations, and preemptions"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Create an Action Client"}),": Define a client for a specific action name and message type"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Send Goals"}),": Create goal objects and send them to the action server"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Monitor Progress"}),": Receive and process feedback messages during execution"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Receive Results"}),": Handle the final result when the action completes"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"action-tools",children:"Action Tools"}),"\n",(0,o.jsx)(i.p,{children:"ROS 2 provides tools for working with actions:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"ros2 action list"}),": Shows all available actions"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"ros2 action info <action_name>"}),": Shows information about a specific action"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"ros2 action send_goal <action_name> <action_type> <goal_args>"}),": Sends a goal to an action from the command line"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"These tools are valuable for testing and debugging action-based functionality in robot systems."}),"\n",(0,o.jsx)(i.h3,{id:"when-to-use-actions-vs-services-vs-topics",children:"When to Use Actions vs. Services vs. Topics"}),"\n",(0,o.jsx)(i.p,{children:"Choosing the right communication primitive depends on the specific requirements:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Use Topics"})," for continuous data streams (sensor data, robot state)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Use Services"})," for quick, synchronous operations that return a result immediately"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Use Actions"})," for long-running operations that require feedback or the possibility of cancellation"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Actions provide the most sophisticated communication pattern in ROS 2, making them essential for complex robotic behaviors."}),"\n",(0,o.jsx)(i.h2,{id:"practical-examples-with-humanoid-robots",children:"Practical Examples with Humanoid Robots"}),"\n",(0,o.jsx)(i.h3,{id:"communication-patterns-in-real-humanoid-systems",children:"Communication Patterns in Real Humanoid Systems"}),"\n",(0,o.jsx)(i.p,{children:"Understanding how communication primitives work in practice is essential for developing effective humanoid robot systems. Let's explore how these patterns manifest in real-world humanoid robot applications."}),"\n",(0,o.jsx)(i.h3,{id:"example-1-walking-pattern-generation",children:"Example 1: Walking Pattern Generation"}),"\n",(0,o.jsx)(i.p,{children:"Consider a humanoid robot that needs to walk to a specific location. This involves multiple communication patterns:"}),"\n",(0,o.jsx)(i.h4,{id:"topic-communication",children:"Topic Communication"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/joint_states"}),": Published by the robot's joint controllers, providing real-time information about joint angles and velocities"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/imu/data"}),": Published by the IMU sensor, providing orientation and acceleration data for balance control"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/tf"}),": Published by the transform broadcaster, providing the relationship between different coordinate frames"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"service-communication",children:"Service Communication"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/balance_control/set_mode"}),": A service that allows switching between different balance control modes (e.g., standing, walking, sitting)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/gait_planner/load_trajectory"}),": A service to load predefined walking patterns"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"action-communication",children:"Action Communication"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/walking_controller/move_to_pose"}),": An action that takes a destination pose as a goal, provides feedback about the current step and balance status, and returns a result indicating success or failure"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"example-2-object-manipulation",children:"Example 2: Object Manipulation"}),"\n",(0,o.jsx)(i.p,{children:"When a humanoid robot needs to pick up an object, the communication follows this pattern:"}),"\n",(0,o.jsx)(i.h4,{id:"topic-communication-1",children:"Topic Communication"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/camera/color/image_raw"}),": Camera feed for object detection"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/arm_controller/state"}),": Current state of the arm controller"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/gripper/joint_states"}),": State of the gripper joints"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"service-communication-1",children:"Service Communication"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/object_detection/detect_objects"}),": A service that processes the camera image and returns a list of detected objects with their poses"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/inverse_kinematics/solve"}),": A service that calculates the joint angles needed to reach a specific end-effector pose"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"action-communication-1",children:"Action Communication"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/arm_controller/follow_joint_trajectory"}),": An action that moves the arm along a planned trajectory, providing feedback about progress and returning success or failure"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/gripper_controller/grasp"}),": An action that controls the gripper to grasp an object, providing feedback about grip force and returning success when the object is securely held"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"example-3-human-robot-interaction",children:"Example 3: Human-Robot Interaction"}),"\n",(0,o.jsx)(i.p,{children:"For a humanoid robot engaging in social interaction:"}),"\n",(0,o.jsx)(i.h4,{id:"topic-communication-2",children:"Topic Communication"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/audio/input"}),": Microphone input for speech recognition"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/face_detector/face_locations"}),": Detected face positions for attention control"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/robot_state"}),": Current emotional state or mode of the robot"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"service-communication-2",children:"Service Communication"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/speech_recognition/recognize"}),": A service that processes audio input and returns recognized text"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/dialog_manager/get_response"}),": A service that generates appropriate responses based on the conversation context"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"action-communication-2",children:"Action Communication"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/head_controller/look_at"}),": An action that makes the robot look at a specific person, providing feedback about gaze direction"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/animation_player/play_animation"}),": An action that plays a sequence of movements for expressive gestures"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"communication-pattern-selection-guidelines",children:"Communication Pattern Selection Guidelines"}),"\n",(0,o.jsx)(i.p,{children:"When designing communication for humanoid robots, consider these guidelines:"}),"\n",(0,o.jsx)(i.h4,{id:"use-topics-when",children:"Use Topics When:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Data needs to be continuously streamed (sensor data, robot state)"}),"\n",(0,o.jsx)(i.li,{children:"Multiple nodes need to consume the same data"}),"\n",(0,o.jsx)(i.li,{children:"Real-time performance is critical"}),"\n",(0,o.jsx)(i.li,{children:"The data producer doesn't need to know who consumes the data"}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"use-services-when",children:"Use Services When:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"A specific task needs to be performed and a result returned"}),"\n",(0,o.jsx)(i.li,{children:"The operation is relatively quick (less than a few seconds)"}),"\n",(0,o.jsx)(i.li,{children:"The client needs to wait for completion before proceeding"}),"\n",(0,o.jsx)(i.li,{children:"A simple request-response pattern is sufficient"}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"use-actions-when",children:"Use Actions When:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"The operation takes a long time to complete"}),"\n",(0,o.jsx)(i.li,{children:"The client needs feedback during execution"}),"\n",(0,o.jsx)(i.li,{children:"The operation might need to be canceled or preempted"}),"\n",(0,o.jsx)(i.li,{children:"The result depends on conditions that may change during execution"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"quality-of-service-considerations",children:"Quality of Service Considerations"}),"\n",(0,o.jsx)(i.p,{children:"Different communication patterns in humanoid robots require different QoS settings:"}),"\n",(0,o.jsx)(i.h4,{id:"safety-critical-topics",children:"Safety-Critical Topics"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/emergency_stop"}),": Reliable, transient local durability"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/motor_torque_limits"}),": Reliable, transient local durability"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"performance-critical-topics",children:"Performance-Critical Topics"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/camera/image_raw"}),": Best effort, volatile (some dropped frames acceptable)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/imu/data"}),": Reliable, volatile (critical for balance)"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"configuration-services",children:"Configuration Services"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/set_parameters"}),": Reliable, timeout appropriate for operation"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/load_config"}),": Reliable, longer timeout acceptable"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"interactive-actions",children:"Interactive Actions"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/speak_text"}),": Best effort for feedback, reliable for goal/result"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/navigate_to_pose"}),": Reliable for goal/result, best effort for feedback"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"integration-example-navigation-and-manipulation",children:"Integration Example: Navigation and Manipulation"}),"\n",(0,o.jsx)(i.p,{children:'A complex task like "go to the kitchen and pick up a cup" would integrate all communication primitives:'}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Navigation Phase"}),":"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Topics: ",(0,o.jsx)(i.code,{children:"/amcl_pose"})," (localization), ",(0,o.jsx)(i.code,{children:"/scan"})," (obstacle detection)"]}),"\n",(0,o.jsxs)(i.li,{children:["Service: ",(0,o.jsx)(i.code,{children:"/move_base_flex/get_path"})," (path planning)"]}),"\n",(0,o.jsxs)(i.li,{children:["Action: ",(0,o.jsx)(i.code,{children:"/move_base_flex/exe_path"})," (execute navigation)"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Manipulation Phase"}),":"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Topics: ",(0,o.jsx)(i.code,{children:"/camera/color/image_raw"})," (object detection), ",(0,o.jsx)(i.code,{children:"/joint_states"})," (feedback)"]}),"\n",(0,o.jsxs)(i.li,{children:["Service: ",(0,o.jsx)(i.code,{children:"/object_detection/detect_cup"})," (identify target)"]}),"\n",(0,o.jsxs)(i.li,{children:["Action: ",(0,o.jsx)(i.code,{children:"/arm_controller/follow_joint_trajectory"})," (reach and grasp)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"This integrated approach allows humanoid robots to perform complex, multi-step tasks by combining the appropriate communication patterns for each subtask."}),"\n",(0,o.jsx)(i.h2,{id:"quality-of-service-qos-concepts",children:"Quality of Service (QoS) Concepts"}),"\n",(0,o.jsx)(i.h3,{id:"introduction-to-qos-in-ros-2",children:"Introduction to QoS in ROS 2"}),"\n",(0,o.jsx)(i.p,{children:"Quality of Service (QoS) in ROS 2 refers to a set of policies that define how data is communicated between publishers and subscribers. QoS settings allow developers to fine-tune the behavior of their communication to match the specific requirements of their application. This is particularly important in robotics applications where different data streams have different requirements for reliability, latency, and durability."}),"\n",(0,o.jsx)(i.p,{children:"QoS policies are negotiated between publishers and subscribers when they discover each other. If the QoS policies are incompatible, the communication may not work as expected."}),"\n",(0,o.jsx)(i.h3,{id:"core-qos-policies",children:"Core QoS Policies"}),"\n",(0,o.jsx)(i.h4,{id:"reliability-policy",children:"Reliability Policy"}),"\n",(0,o.jsx)(i.p,{children:"The reliability policy determines whether messages are guaranteed to be delivered:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Reliable"}),": All messages are guaranteed to be delivered. If a message is lost, it will be resent. This is important for critical data like safety messages or control commands."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Best Effort"}),": Messages may be lost. This is suitable for data where occasional loss is acceptable, such as video streams or high-frequency sensor data."]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"For humanoid robots, reliable communication is essential for safety-critical systems like emergency stops, while best effort may be acceptable for high-frequency sensor data where the latest value is more important than receiving every single message."}),"\n",(0,o.jsx)(i.h4,{id:"durability-policy",children:"Durability Policy"}),"\n",(0,o.jsx)(i.p,{children:"The durability policy determines how messages are handled for late-joining subscribers:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Transient Local"}),": The publisher keeps the most recent message for each topic and sends it to new subscribers immediately. This is useful for static data like robot configuration or maps."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Volatile"}),": New subscribers only receive messages published after they join. This is suitable for continuous data streams like sensor readings."]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:["In humanoid robots, transient local durability is often used for topics like ",(0,o.jsx)(i.code,{children:"/robot_description"})," (which contains the URDF), so new nodes immediately receive the robot's structure."]}),"\n",(0,o.jsx)(i.h4,{id:"history-policy",children:"History Policy"}),"\n",(0,o.jsx)(i.p,{children:"The history policy determines how many messages are stored for each topic:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Keep Last"}),": Only the most recent messages are kept. The number of messages to keep is configurable."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Keep All"}),": All messages are kept. This should be used carefully as it can consume significant memory."]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"For humanoid robots, keep last is typically used for sensor data where only the most recent values are relevant."}),"\n",(0,o.jsx)(i.h4,{id:"depth-policy",children:"Depth Policy"}),"\n",(0,o.jsx)(i.p,{children:'When using the "Keep Last" history policy, the depth determines how many samples are kept in the queue. For example, a depth of 10 means the last 10 messages are stored.'}),"\n",(0,o.jsx)(i.h3,{id:"advanced-qos-settings",children:"Advanced QoS Settings"}),"\n",(0,o.jsx)(i.h4,{id:"deadline-policy",children:"Deadline Policy"}),"\n",(0,o.jsx)(i.p,{children:"The deadline policy tells how often data should be published. This helps detect when a publisher is not sending updates as expected."}),"\n",(0,o.jsx)(i.h4,{id:"lifespan-policy",children:"Lifespan Policy"}),"\n",(0,o.jsx)(i.p,{children:"The lifespan policy sets a time limit for messages. Messages older than this limit are automatically deleted."}),"\n",(0,o.jsx)(i.h4,{id:"liveliness-policy",children:"Liveliness Policy"}),"\n",(0,o.jsx)(i.p,{children:"The liveliness policy lets nodes detect when other nodes or topics become unavailable. This is important for safety systems in humanoid robots."}),"\n",(0,o.jsx)(i.h3,{id:"qos-in-humanoid-robot-applications",children:"QoS in Humanoid Robot Applications"}),"\n",(0,o.jsx)(i.p,{children:"Different aspects of humanoid robot systems require different QoS settings:"}),"\n",(0,o.jsx)(i.h4,{id:"sensor-data",children:"Sensor Data"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/joint_states"}),": Reliable, volatile, keep last (10) - Need all joint data, but only recent values matter"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/imu/data"}),": Reliable, volatile, keep last (5) - Critical for balance, but only recent data needed"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/camera/color/image_raw"}),": Best effort, volatile, keep last (1) - OK to drop frames, only latest frame matters"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"control-commands-1",children:"Control Commands"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/cmd_vel"}),": Reliable, volatile, keep last (1) - Need to receive commands reliably, but only latest command matters"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/joint_group_position_controller/command"}),": Reliable, volatile, keep last (1) - Critical for safety"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"static-information",children:"Static Information"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/robot_description"}),": Reliable, transient local, keep last (1) - New nodes need this immediately"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/map"}),": Reliable, transient local, keep last (1) - New nodes need the map immediately"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"qos-matching-and-compatibility",children:"QoS Matching and Compatibility"}),"\n",(0,o.jsx)(i.p,{children:"When a publisher and subscriber connect, their QoS policies are matched. Some policies must be compatible:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Reliability: A reliable publisher can pair with a best-effort subscriber, but a best-effort publisher cannot pair with a reliable subscriber"}),"\n",(0,o.jsx)(i.li,{children:"Durability: A transient local publisher can pair with a volatile subscriber, but not vice versa"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"setting-qos-in-code",children:"Setting QoS in Code"}),"\n",(0,o.jsx)(i.p,{children:"In ROS 2, QoS policies are set when creating publishers and subscribers. ROS 2 provides some predefined QoS profiles for common use cases:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"rclcpp::QoS(10)"}),": Default profile with depth of 10"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"rmw_qos_profile_sensor_data"}),": Optimized for sensor data (best effort, volatile)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"rmw_qos_profile_services_default"}),": Default for services (reliable, volatile)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"rmw_qos_profile_parameter_events"}),": For parameter events"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"best-practices-for-qos",children:"Best Practices for QoS"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Match QoS to Requirements"}),": Choose QoS settings based on the specific needs of your data, not just default settings."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Consider Resource Usage"}),": Transient local durability and keep all history can consume significant memory."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Test with Different Settings"}),": Experiment with different QoS settings to find the optimal balance between performance and reliability."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Document QoS Choices"}),": Document why specific QoS settings were chosen for each topic, especially in complex systems like humanoid robots."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Monitor Performance"}),": Use ROS 2 tools to monitor the performance of your communication and adjust QoS settings as needed."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Understanding and properly configuring QoS settings is crucial for creating robust and efficient communication in humanoid robot systems."}),"\n",(0,o.jsx)(i.h2,{id:"comparison-of-communication-primitives",children:"Comparison of Communication Primitives"}),"\n",(0,o.jsx)(i.h3,{id:"overview-of-ros-2-communication-primitives",children:"Overview of ROS 2 Communication Primitives"}),"\n",(0,o.jsx)(i.p,{children:"ROS 2 provides three primary communication patterns: topics, services, and actions. Each serves different purposes and has distinct characteristics. Understanding when to use each is crucial for effective robot system design."}),"\n",(0,o.jsx)(i.h3,{id:"detailed-comparison-table",children:"Detailed Comparison Table"}),"\n",(0,o.jsxs)(i.table,{children:[(0,o.jsx)(i.thead,{children:(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.th,{children:"Aspect"}),(0,o.jsx)(i.th,{children:"Topics"}),(0,o.jsx)(i.th,{children:"Services"}),(0,o.jsx)(i.th,{children:"Actions"})]})}),(0,o.jsxs)(i.tbody,{children:[(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.strong,{children:"Communication Pattern"})}),(0,o.jsx)(i.td,{children:"Publish/Subscribe"}),(0,o.jsx)(i.td,{children:"Request/Response"}),(0,o.jsx)(i.td,{children:"Goal/Feedback/Result"})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.strong,{children:"Synchronicity"})}),(0,o.jsx)(i.td,{children:"Asynchronous"}),(0,o.jsx)(i.td,{children:"Synchronous"}),(0,o.jsx)(i.td,{children:"Synchronous (but with feedback)"})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.strong,{children:"Data Flow"})}),(0,o.jsx)(i.td,{children:"One-way (publisher to subscriber)"}),(0,o.jsx)(i.td,{children:"Two-way (request and response)"}),(0,o.jsx)(i.td,{children:"Two-way (goal, feedback, result)"})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.strong,{children:"Duration"})}),(0,o.jsx)(i.td,{children:"Continuous"}),(0,o.jsx)(i.td,{children:"Immediate"}),(0,o.jsx)(i.td,{children:"Long-running"})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.strong,{children:"Feedback"})}),(0,o.jsx)(i.td,{children:"No (unless another topic is used)"}),(0,o.jsx)(i.td,{children:"No (response is final)"}),(0,o.jsx)(i.td,{children:"Yes (continuous feedback during execution)"})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.strong,{children:"Cancellation"})}),(0,o.jsx)(i.td,{children:"No"}),(0,o.jsx)(i.td,{children:"No"}),(0,o.jsx)(i.td,{children:"Yes"})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.strong,{children:"Preemption"})}),(0,o.jsx)(i.td,{children:"No"}),(0,o.jsx)(i.td,{children:"No"}),(0,o.jsx)(i.td,{children:"Yes"})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.strong,{children:"Use Case"})}),(0,o.jsx)(i.td,{children:"Continuous data streams"}),(0,o.jsx)(i.td,{children:"Quick operations with immediate results"}),(0,o.jsx)(i.td,{children:"Long-running operations requiring monitoring"})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.strong,{children:"Examples"})}),(0,o.jsxs)(i.td,{children:[(0,o.jsx)(i.code,{children:"/joint_states"}),", ",(0,o.jsx)(i.code,{children:"/imu/data"}),", ",(0,o.jsx)(i.code,{children:"/tf"})]}),(0,o.jsxs)(i.td,{children:[(0,o.jsx)(i.code,{children:"/get_map"}),", ",(0,o.jsx)(i.code,{children:"/set_mode"}),", ",(0,o.jsx)(i.code,{children:"/transform_point"})]}),(0,o.jsxs)(i.td,{children:[(0,o.jsx)(i.code,{children:"/move_base"}),", ",(0,o.jsx)(i.code,{children:"/arm_controller"}),", ",(0,o.jsx)(i.code,{children:"/pick_object"})]})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.strong,{children:"Error Handling"})}),(0,o.jsx)(i.td,{children:"Publisher/subscriber discovery"}),(0,o.jsx)(i.td,{children:"Service call failure"}),(0,o.jsx)(i.td,{children:"Goal rejection, execution failure"})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.strong,{children:"Performance"})}),(0,o.jsx)(i.td,{children:"High throughput"}),(0,o.jsx)(i.td,{children:"Medium (network round-trip)"}),(0,o.jsx)(i.td,{children:"Medium to low (extended communication)"})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.strong,{children:"Complexity"})}),(0,o.jsx)(i.td,{children:"Low"}),(0,o.jsx)(i.td,{children:"Medium"}),(0,o.jsx)(i.td,{children:"High"})]})]})]}),"\n",(0,o.jsx)(i.h3,{id:"when-to-use-each-primitive",children:"When to Use Each Primitive"}),"\n",(0,o.jsx)(i.h4,{id:"topics",children:"Topics"}),"\n",(0,o.jsx)(i.p,{children:"Use topics when you need to:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Stream continuous data (sensor readings, robot state)"}),"\n",(0,o.jsx)(i.li,{children:"Broadcast information to multiple subscribers"}),"\n",(0,o.jsx)(i.li,{children:"Achieve high-frequency communication"}),"\n",(0,o.jsx)(i.li,{children:"Implement loose coupling between nodes"}),"\n",(0,o.jsx)(i.li,{children:"Share data that multiple nodes need simultaneously"}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"services",children:"Services"}),"\n",(0,o.jsx)(i.p,{children:"Use services when you need to:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Perform a specific task and get an immediate result"}),"\n",(0,o.jsx)(i.li,{children:"Execute operations that should complete quickly (under a few seconds)"}),"\n",(0,o.jsx)(i.li,{children:"Implement request-response patterns"}),"\n",(0,o.jsx)(i.li,{children:"Get information from another node (queries)"}),"\n",(0,o.jsx)(i.li,{children:"Perform configuration changes that return success/failure"}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"actions",children:"Actions"}),"\n",(0,o.jsx)(i.p,{children:"Use actions when you need to:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Execute long-running tasks (navigation, manipulation)"}),"\n",(0,o.jsx)(i.li,{children:"Monitor progress during execution"}),"\n",(0,o.jsx)(i.li,{children:"Allow for cancellation or preemption of tasks"}),"\n",(0,o.jsx)(i.li,{children:"Provide feedback during task execution"}),"\n",(0,o.jsx)(i.li,{children:"Handle operations that might fail partway through"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"communication-pattern-selection-decision-tree",children:"Communication Pattern Selection Decision Tree"}),"\n",(0,o.jsx)(i.p,{children:"When deciding which communication pattern to use, consider this decision tree:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Does the operation need to return a result immediately?"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Yes \u2192 Go to 2"}),"\n",(0,o.jsx)(i.li,{children:"No \u2192 Likely a Topic"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Is the operation expected to complete quickly (under a few seconds)?"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Yes \u2192 Service"}),"\n",(0,o.jsx)(i.li,{children:"No \u2192 Go to 3"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Do you need to monitor progress during execution?"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Yes \u2192 Action"}),"\n",(0,o.jsx)(i.li,{children:"No \u2192 Go to 4"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Do you need the ability to cancel the operation?"})}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Yes \u2192 Action"}),"\n",(0,o.jsx)(i.li,{children:"No \u2192 Service (if result needed) or Topic (if no result needed)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"hybrid-approaches",children:"Hybrid Approaches"}),"\n",(0,o.jsx)(i.p,{children:"Sometimes, a combination of communication patterns works best:"}),"\n",(0,o.jsx)(i.h4,{id:"topic--service",children:"Topic + Service"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Use a topic for continuous status updates"}),"\n",(0,o.jsx)(i.li,{children:"Use a service for specific commands or queries"}),"\n",(0,o.jsx)(i.li,{children:"Example: Publish robot battery status continuously via topic, but use a service to request immediate charging"}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"topic--action",children:"Topic + Action"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Use a topic for general state information"}),"\n",(0,o.jsx)(i.li,{children:"Use an action for specific long-running tasks"}),"\n",(0,o.jsx)(i.li,{children:"Example: Publish robot pose continuously, but use an action to navigate to a specific location"}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"service--action",children:"Service + Action"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Use a service for quick configuration"}),"\n",(0,o.jsx)(i.li,{children:"Use an action for the actual execution"}),"\n",(0,o.jsx)(i.li,{children:"Example: Use a service to plan a path, then use an action to follow the path"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"humanoid-robot-examples",children:"Humanoid Robot Examples"}),"\n",(0,o.jsx)(i.h4,{id:"walking-control",children:"Walking Control"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Topic"}),": ",(0,o.jsx)(i.code,{children:"/joint_states"})," - Continuous feedback on joint positions"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Service"}),": ",(0,o.jsx)(i.code,{children:"/balance_control/set_mode"})," - Quick switch between standing/walking modes"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Action"}),": ",(0,o.jsx)(i.code,{children:"/walking_controller/move_to_pose"})," - Long-running navigation with feedback"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"object-manipulation",children:"Object Manipulation"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Topic"}),": ",(0,o.jsx)(i.code,{children:"/camera/color/image_raw"})," - Continuous camera feed"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Service"}),": ",(0,o.jsx)(i.code,{children:"/object_detection/detect_object"})," - Quick detection of objects"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Action"}),": ",(0,o.jsx)(i.code,{children:"/arm_controller/follow_joint_trajectory"})," - Long-running arm movement with feedback"]}),"\n"]}),"\n",(0,o.jsx)(i.h4,{id:"human-robot-interaction",children:"Human-Robot Interaction"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Topic"}),": ",(0,o.jsx)(i.code,{children:"/audio/input"})," - Continuous audio stream"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Service"}),": ",(0,o.jsx)(i.code,{children:"/speech_recognition/recognize"})," - Quick speech-to-text conversion"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Action"}),": ",(0,o.jsx)(i.code,{children:"/animation_player/play_animation"})," - Long-running animation sequence"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,o.jsx)(i.p,{children:"Each communication primitive has different performance characteristics:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Topics"})," offer the highest throughput and lowest latency, making them ideal for real-time sensor data and control commands."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Services"})," have moderate performance with network round-trip overhead, suitable for operations that don't require real-time performance."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Actions"})," have the highest overhead due to the complexity of the communication pattern, but provide the most functionality for complex operations."]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Understanding these differences helps in designing efficient and responsive humanoid robot systems."}),"\n",(0,o.jsx)(i.h2,{id:"references",children:"References"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Macenski, S., Woodall, W., & Faconti, N. (2019). Design and use paradigm of ROS 2. ",(0,o.jsx)(i.em,{children:"IEEE Access"}),", 7, 153148-153154."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["ROS 2 Documentation. (2023). Quality of Service in ROS 2. ",(0,o.jsx)(i.a,{href:"https://docs.ros.org/en/humble/Concepts/About-Quality-of-Service-settings.html",children:"https://docs.ros.org/en/humble/Concepts/About-Quality-of-Service-settings.html"})]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Colom\xe9, A., & Torras, C. (2019). Real-time collision avoidance for robot manipulators: Scalable massively-parallel sphere-sweeping. ",(0,o.jsx)(i.em,{children:"IEEE Robotics and Automation Letters"}),", 4(2), 1836-1843."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Quigley, M., et al. (2009). ROS: an open-source Robot Operating System. ",(0,o.jsx)(i.em,{children:"ICRA Workshop on Open Source Software"}),", 3(3.2), 5."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Woodall, W., et al. (2018). ROS 2 design overview. ",(0,o.jsx)(i.em,{children:"Open Robotics"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["ROS 2 Working Groups. (2023). Quality of Service in ROS 2. ",(0,o.jsx)(i.a,{href:"https://docs.ros.org/en/humble/Concepts/About-Quality-of-Service-settings.html",children:"https://docs.ros.org/en/humble/Concepts/About-Quality-of-Service-settings.html"})]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Drakopoulos, A., & Manolakos, E. S. (2019). A survey of middleware technologies for real-time communication in robotics. ",(0,o.jsx)(i.em,{children:"Journal of Intelligent & Robotic Systems"}),", 95(2), 369-390."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Ferro, F., et al. (2016). RTComp: A real-time component model for ROS. ",(0,o.jsx)(i.em,{children:"IEEE/RSJ International Conference on Intelligent Robots and Systems (IROS)"}),", 1080-1087."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Khusainov, R., et al. (2018). Comparison of communication architectures for cooperative robotic systems. ",(0,o.jsx)(i.em,{children:"Procedia Computer Science"}),", 140, 334-343."]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:["\n",(0,o.jsxs)(i.p,{children:["Object Management Group. (2015). Data Distribution Service (DDS) 1.4 Specification. ",(0,o.jsx)(i.a,{href:"https://www.omg.org/spec/DDS/1.4/",children:"https://www.omg.org/spec/DDS/1.4/"})]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453(e,i,n){n.d(i,{R:()=>r,x:()=>l});var s=n(6540);const o={},t=s.createContext(o);function r(e){const i=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(t.Provider,{value:i},e.children)}}}]);